# 容器互联
Docker 容器互联，本质是让多个 Docker 容器之间能通过网络互相访问（比如 ping 通、通信），而不用依赖主机的端口映射。

## 创建自定义网络
### 命令
`docker network create -d bridge test-net`
`-d bridge`：指定网络类型为 “桥接网络”（Docker 最常用的网络类型，类似家里的路由器，让接入的设备互相通信）；
`test-net`：自定义网络名称，方便识别；
### 原理：
Docker 会为这个网络创建一个独立的 “虚拟网桥”，接入的容器都会分配该网段的 IP，且自动开启 “容器名解析”（用容器名就能找到对应 IP）。

## 启动容器 加入网络
```
# 启动 test1 容器，加入 test-net 网络
docker run -itd --name test1 --network test-net ubuntu /bin/bash

# 启动 test2 容器，加入 test-net 网络
docker run -itd --name test2 --network test-net ubuntu /bin/bash
```

## 验证容器互联
```
# 进入test1 容器
docker exec -it test1 bash

# 容器内执行

# 更新源（新版 Ubuntu 源正常）
apt-get update

# 安装 ping 工具
apt install -y iputils-ping

ping test2

```



![715fc8a76155173d700fea413aaea113.png](../../_resources/715fc8a76155173d700fea413aaea113.png)